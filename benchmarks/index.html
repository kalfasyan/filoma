
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Fast, multi-backend file and directory analysis for Python">
      
      
      
      
        <link rel="prev" href="../backends/">
      
      
        <link rel="next" href="../api/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Performance - filoma</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#performance-benchmarks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="filoma" class="md-header__button md-logo" aria-label="filoma" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            filoma
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Performance
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="filoma" class="md-nav__button md-logo" aria-label="filoma" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    filoma
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scanning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Directory Scanning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataframe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File & Image Profiling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ML Splits
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demo
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cookbook
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-quality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Quality
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backends
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Test Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benchmark-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmark Methodology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Benchmark Methodology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cold-cache-testing" class="md-nav__link">
    <span class="md-ellipsis">
      ❄️ Cold Cache Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Test Dataset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-results" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Results
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-discovery-performance-fast-path" class="md-nav__link">
    <span class="md-ellipsis">
      File Discovery Performance (Fast Path)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataframe-building-performance" class="md-nav__link">
    <span class="md-ellipsis">
      DataFrame Building Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-insights" class="md-nav__link">
    <span class="md-ellipsis">
      Key Insights
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-storage-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Network Storage Performance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benchmarking-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Benchmarking Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accurate-performance-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Accurate Performance Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Tips
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warm-vs-cold-cache-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Warm vs Cold Cache Comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-selection-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Selection Recommendations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-results-may-vary" class="md-nav__link">
    <span class="md-ellipsis">
      Your Results May Vary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../life-after-filoma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Life after filoma
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Test Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benchmark-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmark Methodology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Benchmark Methodology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cold-cache-testing" class="md-nav__link">
    <span class="md-ellipsis">
      ❄️ Cold Cache Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Test Dataset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-results" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Results
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-discovery-performance-fast-path" class="md-nav__link">
    <span class="md-ellipsis">
      File Discovery Performance (Fast Path)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataframe-building-performance" class="md-nav__link">
    <span class="md-ellipsis">
      DataFrame Building Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-insights" class="md-nav__link">
    <span class="md-ellipsis">
      Key Insights
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-storage-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Network Storage Performance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benchmarking-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Benchmarking Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accurate-performance-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Accurate Performance Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Tips
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warm-vs-cold-cache-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Warm vs Cold Cache Comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-selection-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Selection Recommendations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-results-may-vary" class="md-nav__link">
    <span class="md-ellipsis">
      Your Results May Vary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="performance-benchmarks">Performance Benchmarks<a class="headerlink" href="#performance-benchmarks" title="Permanent link">&para;</a></h1>
<p><code>DISCLAIMER</code>: Benchmark results are illustrative and may vary based on your hardware, filesystem, and directory structure. Always run your own benchmarks on your target systems for accurate performance data. They were run during the early stages of <code>filoma</code> development and may not reflect the latest optimizations.  </p>
<h2 id="test-environment">Test Environment<a class="headerlink" href="#test-environment" title="Permanent link">&para;</a></h2>
<p><em>All performance data measured on the following system:</em></p>
<div class="highlight"><pre><span></span><code>OS:         Linux x86_64 (Ubuntu-based)
Storage:    WD_BLACK SN770 2TB NVMe SSD (Sandisk Corp)
Filesystem: ext4 (non-NFS, local storage)
Memory:     High-speed access to NVMe storage
CPU:        Multi-core with parallel processing support
</code></pre></div>
<blockquote>
<p><strong>📊 Why This Matters</strong>: SSD vs HDD performance can vary dramatically. NVMe SSDs provide 
exceptional random I/O performance that benefits all backends. Network filesystems (NFS) 
may show different characteristics. Your mileage may vary based on storage type.</p>
</blockquote>
<h2 id="benchmark-methodology">Benchmark Methodology<a class="headerlink" href="#benchmark-methodology" title="Permanent link">&para;</a></h2>
<h3 id="cold-cache-testing">❄️ Cold Cache Testing<a class="headerlink" href="#cold-cache-testing" title="Permanent link">&para;</a></h3>
<p><strong>Critical</strong>: All benchmarks use <strong>cold cache</strong> methodology to represent real-world performance:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Before each test:</span>
sync<span class="w">                                    </span><span class="c1"># Flush buffers</span>
<span class="nb">echo</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>&gt;<span class="w"> </span>/proc/sys/vm/drop_caches<span class="w">      </span><span class="c1"># Clear filesystem cache</span>
</code></pre></div>
<blockquote>
<p><strong>🔥 Cache Impact</strong>: OS filesystem cache can make benchmarks <strong>2-8x faster</strong> but unrealistic. 
Warm cache results don't represent first-time directory access. Our cold cache benchmarks 
show realistic performance for real-world usage.</p>
</blockquote>
<h3 id="test-dataset">Test Dataset<a class="headerlink" href="#test-dataset" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Directory</strong>: <code>/usr</code> (system directory with diverse file types)</li>
<li><strong>Files</strong>: ~250,000 files</li>
<li><strong>Depth</strong>: Multiple levels of nested directories</li>
<li><strong>Size Range</strong>: Small config files to large binaries</li>
</ul>
<h2 id="performance-results">Performance Results<a class="headerlink" href="#performance-results" title="Permanent link">&para;</a></h2>
<h3 id="file-discovery-performance-fast-path">File Discovery Performance (Fast Path)<a class="headerlink" href="#file-discovery-performance-fast-path" title="Permanent link">&para;</a></h3>
<p><em>Cold cache benchmarks - File path discovery only</em></p>
<div class="highlight"><pre><span></span><code>Backend      │ Time      │ Files/sec  │ Relative Speed
─────────────┼───────────┼────────────┼───────────────
Rust         │ 3.16s     │ 70,367     │ 2.28x faster
fd           │ 4.80s     │ 46,244     │ 1.50x faster  
Python       │ 8.11s     │ 30,795     │ 1.00x (baseline)
</code></pre></div>
<h3 id="dataframe-building-performance">DataFrame Building Performance<a class="headerlink" href="#dataframe-building-performance" title="Permanent link">&para;</a></h3>
<p><em>Cold cache benchmarks - Full metadata collection with DataFrame creation</em></p>
<div class="highlight"><pre><span></span><code>Backend      │ Time      │ Files/sec  │ Relative Speed
─────────────┼───────────┼────────────┼───────────────
Rust         │ 4.16s     │ 53,417     │ 1.95x faster
fd           │ 4.80s     │ 46,219     │ 1.50x faster
Python       │ 8.13s     │ 30,733     │ 1.00x (baseline)
</code></pre></div>
<h3 id="key-insights">Key Insights<a class="headerlink" href="#key-insights" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>🦀 Rust fastest overall</strong> - Best performance for both file discovery and DataFrame building</li>
<li><strong>🔍 fd competitive</strong> - Close second, excellent alternative when Rust isn't available  </li>
<li><strong>🐍 Python most compatible</strong> - Works by default, reliable fallback option</li>
<li><strong>📊 Identical results</strong> - All backends produce the same analysis output and metadata</li>
<li><strong>❄️ Cold vs warm cache</strong> - Real performance is 2-8x slower than cached results</li>
<li><strong>🎯 Automatic selection</strong> - filoma chooses the optimal backend for your system</li>
</ul>
<h2 id="network-storage-performance">Network Storage Performance<a class="headerlink" href="#network-storage-performance" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>📊 Network Storage Note</strong>: In NFS environments, <code>fd</code> often outperforms other backends due to 
optimized network I/O patterns. For network filesystems, consider forcing the <code>fd</code> backend 
with <code>DirectoryProfiler(search_backend="fd")</code> for optimal performance.</p>
</blockquote>
<h2 id="benchmarking-best-practices">Benchmarking Best Practices<a class="headerlink" href="#benchmarking-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="accurate-performance-testing">Accurate Performance Testing<a class="headerlink" href="#accurate-performance-testing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">filoma.directories</span><span class="w"> </span><span class="kn">import</span> <span class="n">DirectoryProfiler</span>

<span class="k">def</span><span class="w"> </span><span class="nf">clear_filesystem_cache</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clear OS filesystem cache for realistic benchmarks.&quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;sync&#39;</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;sudo&#39;</span><span class="p">,</span> <span class="s1">&#39;tee&#39;</span><span class="p">,</span> <span class="s1">&#39;/proc/sys/vm/drop_caches&#39;</span><span class="p">],</span> 
                   <span class="nb">input</span><span class="o">=</span><span class="s1">&#39;3</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Let cache clear settle</span>

<span class="k">def</span><span class="w"> </span><span class="nf">benchmark_backend</span><span class="p">(</span><span class="n">backend_name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Benchmark a specific backend with cold cache.&quot;&quot;&quot;</span>
    <span class="n">profiler</span> <span class="o">=</span> <span class="n">DirectoryProfiler</span><span class="p">(</span><span class="n">DirectoryProfilerConfig</span><span class="p">(</span><span class="n">search_backend</span><span class="o">=</span><span class="n">backend_name</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="c1"># Check if the specific backend is available</span>
    <span class="n">available</span> <span class="o">=</span> <span class="p">((</span><span class="n">backend_name</span> <span class="o">==</span> <span class="s2">&quot;rust&quot;</span> <span class="ow">and</span> <span class="n">profiler</span><span class="o">.</span><span class="n">is_rust_available</span><span class="p">())</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">backend_name</span> <span class="o">==</span> <span class="s2">&quot;fd&quot;</span> <span class="ow">and</span> <span class="n">profiler</span><span class="o">.</span><span class="n">is_fd_available</span><span class="p">())</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">backend_name</span> <span class="o">==</span> <span class="s2">&quot;python&quot;</span><span class="p">))</span>  <span class="c1"># Python always available</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">available</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
        <span class="n">clear_filesystem_cache</span><span class="p">()</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">profiler</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
        <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elapsed</span><span class="p">)</span>

    <span class="n">avg_time</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>
    <span class="n">files_per_sec</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;total_files&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">avg_time</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;backend&#39;</span><span class="p">:</span> <span class="n">backend_name</span><span class="p">,</span>
        <span class="s1">&#39;avg_time&#39;</span><span class="p">:</span> <span class="n">avg_time</span><span class="p">,</span>
        <span class="s1">&#39;files_per_sec&#39;</span><span class="p">:</span> <span class="n">files_per_sec</span><span class="p">,</span>
        <span class="s1">&#39;total_files&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;total_files&#39;</span><span class="p">]</span>
    <span class="p">}</span>

<span class="c1"># Example usage</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">backend</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;rust&#39;</span><span class="p">,</span> <span class="s1">&#39;fd&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">]:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark_backend</span><span class="p">(</span><span class="n">backend</span><span class="p">,</span> <span class="s1">&#39;/test/directory&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">backend</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;avg_time&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s (</span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;files_per_sec&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> files/sec)&quot;</span><span class="p">)</span>

<span class="c1"># Find fastest</span>
<span class="k">if</span> <span class="n">results</span><span class="p">:</span>
    <span class="n">fastest</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;avg_time&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🏆 Fastest: </span><span class="si">{</span><span class="n">fastest</span><span class="p">[</span><span class="s1">&#39;backend&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="performance-tips">Performance Tips<a class="headerlink" href="#performance-tips" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Disable progress bars</strong> for benchmarking: <code>show_progress=False</code></li>
<li><strong>Use fast path only</strong> for discovery benchmarks: <code>fast_path_only=True</code></li>
<li><strong>Clear filesystem cache</strong> between runs for realistic results</li>
<li><strong>Run multiple iterations</strong> and average the results</li>
<li><strong>Test on your target storage</strong> - results vary by filesystem type</li>
</ol>
<h3 id="warm-vs-cold-cache-comparison">Warm vs Cold Cache Comparison<a class="headerlink" href="#warm-vs-cold-cache-comparison" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Cold cache (realistic)</span>
<span class="n">clear_filesystem_cache</span><span class="p">()</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">profiler</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="s2">&quot;/test/directory&quot;</span><span class="p">)</span>
<span class="n">cold_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="c1"># Warm cache (for comparison only)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">profiler</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="s2">&quot;/test/directory&quot;</span><span class="p">)</span>  
<span class="n">warm_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cold cache: </span><span class="si">{</span><span class="n">cold_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s (realistic)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warm cache: </span><span class="si">{</span><span class="n">warm_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s (cached, </span><span class="si">{</span><span class="n">cold_time</span><span class="o">/</span><span class="n">warm_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">x slower when cold)&quot;</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p><strong>⚠️ Important</strong>: Always use cold cache for realistic benchmarks. Warm cache results can be 
2-8x faster but don't represent real-world performance for first-time directory access.</p>
</blockquote>
<h2 id="backend-selection-recommendations">Backend Selection Recommendations<a class="headerlink" href="#backend-selection-recommendations" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Use Case</th>
<th>Recommended Backend</th>
<th>Why</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Large directories</strong></td>
<td>Auto (Rust if available)</td>
<td>Best overall performance</td>
</tr>
<tr>
<td><strong>Network filesystems</strong></td>
<td><code>fd</code></td>
<td>Optimized for network I/O</td>
</tr>
<tr>
<td><strong>CI/CD environments</strong></td>
<td>Auto</td>
<td>Reliable with graceful fallbacks</td>
</tr>
<tr>
<td><strong>Maximum compatibility</strong></td>
<td><code>python</code></td>
<td>Always works, no dependencies</td>
</tr>
<tr>
<td><strong>DataFrame analysis</strong></td>
<td>Auto (Rust if available)</td>
<td>Fastest DataFrame building</td>
</tr>
<tr>
<td><strong>Pattern matching</strong></td>
<td><code>fd</code></td>
<td>Advanced regex/glob support</td>
</tr>
</tbody>
</table>
<h2 id="your-results-may-vary">Your Results May Vary<a class="headerlink" href="#your-results-may-vary" title="Permanent link">&para;</a></h2>
<p>Performance depends on:
- <strong>Storage type</strong> - NVMe SSD &gt; SATA SSD &gt; HDD
- <strong>Filesystem</strong> - ext4, NTFS, APFS, NFS all behave differently<br />
- <strong>Directory structure</strong> - Deep vs wide, file size distribution
- <strong>System load</strong> - CPU, memory, I/O contention
- <strong>Network latency</strong> - Critical for NFS/network storage</p>
<p>Run your own benchmarks on your target systems for accurate performance data.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>